<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Export Data</title>
    <link rel="stylesheet" href="https://bootswatch.com/4/lumen/bootstrap.css">
    <link rel="stylesheet" href="https://bootswatch.com/_assets/css/custom.min.css">
    <!-- <link rel="stylesheet" href="css/style.css"> -->
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
    <a class="navbar-brand" href="/">CSV_to_Tables</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
    <div class="collapse navbar-collapse" id="navbarColor01">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item active"><a class="nav-link" href="/getauthors">Authors.csv <span class="sr-only">(current)</span></a></li>
        <li class="nav-item active"><a class="nav-link" href="/getbooks">Books.csv <span class="sr-only">(current)</span></a></li>
        <li class="nav-item active"><a class="nav-link" href="/getmagazines">Magazines.csv <span class="sr-only">(current)</span></a></li>
        <li class="nav-item active"><a class="nav-link" href="/formbooks">Add Books <span class="sr-only">(current)</span></a></li>
        <li class="nav-item active"><a class="nav-link" href="/formmagazines">Add Magazines <span class="sr-only">(current)</span></a></li>



    </ul>
    </div>
  </nav> 
      <div class="search" style="padding-bottom: 10px;padding-left: 390px;">
        
        <input type="text" id="search" placeholder="Search By Author...">
      </div>
    <div class="table" style="padding-left: 390px;">
        <table class="table table-hover" align="center" > 
            <tbody class="" style="height: 300px; text-align: center; position: absolute; margin-bottom: 25px;">
                <tr class="table-info">
                    <th>S.no</th>
                    <th>Title</th>
                    <th>ISBN</th>
                    <th>Authors</th>
                    <th>Published At</th>

                </tr>
                <%for(var a=0;a< data.length;a++ ){%>
                    <tr class="table-info">
                        <td ><%= a+1%></td>
                         <td ><%= data[a].title%></td>
                         <td ><%= data[a].isbn%></td>
                         <td ><%= data[a].authors%></td>
                         <td ><%= data[a].publishedAt%></td>
                        
                     </tr>
                  <%}%>
            </tbody>
         </table> 
        
    </div>
    <script>
      var search_input = document.getElementById('search');
      search_input.addEventListener('keyup',function(){
        var search_value = search_input.value;
        var table = document.getElementsByTagName('table')[0];
        var tr = table.getElementsByTagName('tr');
        for(var i=0;i<tr.length;i++){
          var td = tr[i].getElementsByTagName('td')[3];
          if(td){
            if(td.innerHTML.toUpperCase().indexOf(search_value.toUpperCase()) > -1){
              tr[i].style.display = "";
            }
            else{
              tr[i].style.display = "none";
            }
          }
        }
      });

    </script>
    
</body>
</html>